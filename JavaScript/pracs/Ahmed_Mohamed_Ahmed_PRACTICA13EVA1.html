<!DOCTYPE html>
<html lang="es-es">
    <head>
        <meta charset="UTF-8">
        <title>Document</title>
    </head>
    <body>
        <script>
            
            //valid comienza siendo falso, para luego pedirle un numero un numero al usuario y poner la variable a true en caso de que sea valido
            //si no es valido sigue siendo false por lo que se vuelve a ejecutar el bucle hasta que lo sea
            var valid=false;
                
                
            while (valid==false) {
                var n=prompt('Introduzca un numero entre el 1 y el 10');
                if (n==null) {
                    alert('Ejecucion cancelada');
                    throw new Error('Ejecución cancelada');
                }

                n=parseInt(n);
                if (!isNaN(n)&&n>=1&&n<=10) {
                    valid=true;
                }
            }

            valid=false;

            while (valid==false) {
                var t=prompt('Introduzca una texto corto por favor (a poder ser).');
                if (t==null) {
                    alert('Ejecucion cancelada');
                    throw new Error('Ejecución cancelada');
                }
                if (t!=0) {
                    alert('Codigo correcto.');
                    valid=true;
                }
            }

            var t2='';
            var c=[];
            for (let i = 0; i < t.length; i++) {
                if (t[i]==" ") {
                    t2+=' ';
                    continue;
                }
                c[i]= t.charCodeAt(i)+n;
                t2+=String.fromCharCode(c[i]);
            }

            document.writeln(t2);

        </script>
    </body>
</html> 